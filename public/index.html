<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0f172a">
  <meta name="description" content="Convierte tu celular en un micr贸fono inal谩mbrico">
  <title>Wireless Mic - Micr贸fono Inal谩mbrico</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/assets/icons/favicon.ico">
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div class="logo">
        <span class="logo-icon"></span>
        <h1>Wireless Mic</h1>
      </div>
      <p class="tagline">Convierte cualquier celular en un micr贸fono inal谩mbrico</p>
    </header>

    <!-- Main Menu -->
    <main class="main-menu">
      <a href="/host" class="menu-card animate-slide-up" id="host-option">
        <div class="card-icon"></div>
        <h2>Soy el Host</h2>
        <p>Recibo y reproduzco el audio de los micr贸fonos conectados</p>
        <span class="btn btn-primary">Crear Sala</span>
      </a>

      <a href="/mic" class="menu-card animate-slide-up delay-100" id="mic-option">
        <div class="card-icon"></div>
        <h2>Soy un Micr贸fono</h2>
        <p>Conecto mi celular como micr贸fono escaneando un c贸digo QR</p>
        <span class="btn btn-secondary">Conectar</span>
      </a>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p>Para mejor experiencia, usa auriculares en el Host</p>
      <p class="version">v<span id="version">0.1.0</span></p>
    </footer>
  </div>

  <script>
    // Registrar Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('SW registrado'))
        .catch(err => console.log('SW error:', err));
    }

    // Obtener versi贸n
    fetch('/api/version')
      .then(r => r.json())
      .then(data => {
        document.getElementById('version').textContent = data.version;
      })
      .catch(() => {});
  </script>
</body>
</html>
